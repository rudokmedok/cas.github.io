<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RudokMedok :: DPI Checker</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
      background: linear-gradient(135deg, #000, #2b2b2b);
      color: #fff;
      margin: 0;
      padding: 0;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    header img {
      height: 40px;
    }

    .tabs {
      display: flex;
      background: rgba(255, 255, 255, 0.05);
      padding: 10px;
      gap: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tab {
      padding: 10px 20px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      transition: 0.3s;
    }

    .tab.active {
      background: #fff;
      color: #000;
      font-weight: bold;
    }

    .container {
      padding: 20px;
    }

    button {
      padding: 10px 20px;
      font-size: 1.1em;
      border: 0;
      background: #fff;
      color: #000;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      opacity: 0.8;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    th {
      background: rgba(255, 255, 255, 0.1);
    }

    .ok { color: #00ff85; font-weight: bold; }
    .bad { color: #ff4f4f; font-weight: bold; }

    #log {
      margin-top: 20px;
      padding: 15px;
      background: #111;
      border-radius: 8px;
      max-height: 300px;
      overflow-y: auto;
      white-space: pre-wrap;
      font-size: 0.9em;
    }
  </style>
</head>

<body>
  <header>
    <img src="https://rudokmedok.ru/logo.png" alt="RudokMedok" />
    <h2>DPI Checker TCP 16-20</h2>
  </header>

  <div class="tabs">
    <div class="tab active" data-tab="games">–ò–≥—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä–∞</div>
    <div class="tab" data-tab="discord">Discord</div>
    <div class="tab" data-tab="youtube">YouTube / Google</div>
    <div class="tab" data-tab="blocked">DPI / RKN</div>
    <div class="tab" data-tab="custom">–ö–∞—Å—Ç–æ–º–Ω—ã–µ</div>
  </div>

  <div class="container">
    <button id="start">–ù–∞—á–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
    <span id="status">–ì–æ—Ç–æ–≤–æ ‚ö°</span>

    <table id="results">
      <tr>
        <th>#</th>
        <th>–ü—Ä–æ–≤–∞–π–¥–µ—Ä</th>
        <th>–°—Ç–∞—Ç—É—Å DPI</th>
      </tr>
    </table>

    <pre id="log"></pre>
  </div>

  <script>
    const TABS = {
      games: [
      { id: "US.CF-01", provider: "üá∫üá∏ Cloudflare", times: 1, url: "https://cdn.cookielaw.org/scripttemplates/202501.2.0/otBannerSdk.js" },
      { id: "US.CF-02", provider: "üá∫üá∏ Cloudflare", times: 1, url: "https://genshin.jmp.blue/characters/all#" },
      { id: "US.CF-03", provider: "üá∫üá∏ Cloudflare", times: 1, url: "https://api.frankfurter.dev/v1/2000-01-01..2002-12-31" },
      { id: "US.DO-01", provider: "üá∫üá∏ DigitalOcean", times: 2, url: "https://genderize.io/" },
      { id: "DE.HE-01", provider: "üá©üá™ Hetzner", times: 1, url: "https://j.dejure.org/jcg/doctrine/doctrine_banner.webp" },
      { id: "FI.HE-01", provider: "üá´üáÆ Hetzner", times: 1, url: "https://tcp1620-01.dubybot.live/1MB.bin" },
      { id: "FI.HE-02", provider: "üá´üáÆ Hetzner", times: 1, url: "https://tcp1620-02.dubybot.live/1MB.bin" },
      { id: "FI.HE-03", provider: "üá´üáÆ Hetzner", times: 1, url: "https://tcp1620-05.dubybot.live/1MB.bin" },
      { id: "FI.HE-04", provider: "üá´üáÆ Hetzner", times: 1, url: "https://tcp1620-06.dubybot.live/1MB.bin" },
      { id: "FR.OVH-01", provider: "üá´üá∑ OVH", times: 1, url: "https://eu.api.ovh.com/console/rapidoc-min.js" },
      { id: "FR.OVH-02", provider: "üá´üá∑ OVH", times: 1, url: "https://ovh.sfx.ovh/10M.bin" },
      { id: "SE.OR-01", provider: "üá∏üá™ Oracle", times: 1, url: "https://oracle.sfx.ovh/10M.bin" },
      { id: "DE.AWS-01", provider: "üá©üá™ AWS", times: 1, url: "https://tms.delta.com/delta/dl_anderson/Bootstrap.js" },
      { id: "US.AWS-01", provider: "üá∫üá∏ AWS", times: 1, url: "https://corp.kaltura.com/wp-content/cache/min/1/wp-content/themes/airfleet/dist/styles/theme.css" },
      { id: "US.GC-01", provider: "üá∫üá∏ Google Cloud", times: 1, url: "https://api.usercentrics.eu/gvl/v3/en.json" },
      { id: "US.FST-01", provider: "üá∫üá∏ Fastly", times: 1, url: "https://openoffice.apache.org/images/blog/rejected.png" },
      { id: "US.FST-02", provider: "üá∫üá∏ Fastly", times: 1, url: "https://www.juniper.net/etc.clientlibs/juniper/clientlibs/clientlib-site/resources/fonts/lato/Lato-Regular.woff2" },
      { id: "PL.AKM-01", provider: "üáµüá± Akamai", times: 1, url: "https://www.lg.com/lg5-common-gp/library/jquery.min.js" },
      { id: "PL.AKM-02", provider: "üáµüá± Akamai", times: 1, url: "https://media-assets.stryker.com/is/image/stryker/gateway_1?$max_width_1410$" },
      { id: "US.CDN77-01", provider: "üá∫üá∏ CDN77", times: 1, url: "https://www.winkgo.com/wp-content/themes/mts_sociallyviral/fonts/fontawesome-webfont.woff2" },
      { id: "DE.CNTB-01", provider: "üá©üá™ Contabo", times: 1, url: "https://cloudlets.io/wp-content/themes/Avada/includes/lib/assets/fonts/fontawesome/webfonts/fa-solid-900.woff2" },
      { id: "FR.SW-01", provider: "üá´üá∑ Scaleway", times: 1, url: "https://renklisigorta.com.tr/teklif-al" },
      { id: "US.CNST-01", provider: "üá∫üá∏ Constant", times: 1, url: "https://cdn.xuansiwei.com/common/lib/font-awesome/4.7.0/fontawesome-webfont.woff2?v=4.7.0" }
    ];
      discord: [
        { id: "DC-01", provider: "Discord CDN", times: 1, url: "https://discord.com/api/v9/users/@me" },
        { id: "DC-02", provider: "Discord Media", times: 1, url: "https://cdn.discordapp.com/icons/81384788765712384/a_123.png" }
      ],
      youtube: [
        { id: "YT-01", provider: "Google Video", times: 1, url: "https://redirector.googlevideo.com/videoplayback" },
        { id: "YT-02", provider: "Google", times: 1, url: "https://www.youtube.com/s/player/abcd1234/player_ias.vflset" }
      ],
      blocked: [
        { id: "VK-01", provider: "VK", times: 1, url: "https://vk.com/js/api/share.js" },
        { id: "TG-01", provider: "Telegram", times: 1, url: "https://core.telegram.org/js/telegram-widget.js" }
      ],
      custom: []
    };

    let CURRENT = "games";

    document.querySelectorAll('.tab').forEach(t => {
      t.onclick = () => {
        document.querySelector('.tab.active').classList.remove('active');
        t.classList.add('active');
        CURRENT = t.dataset.tab;
      };
    });

    const startButton = document.getElementById("start");
    const status = document.getElementById("status");
    const results = document.getElementById("results");
    const log = document.getElementById("log");

    function logPush(msg) {
      log.textContent += msg + "\n";
      log.scrollTop = log.scrollHeight;
    }

    async function runTest(test) {
      const row = results.insertRow();
      row.insertCell().textContent = test.id;
      row.insertCell().textContent = test.provider;
      const cell = row.insertCell();
      cell.textContent = "–ü—Ä–æ–≤–µ—Ä–∫–∞...";

      try {
        const res = await fetch(test.url + "?t=" + Math.random());
        let reader = res.body.getReader();
        let received = 0;

        while (true) {
          const { done, value } = await reader.read();
          if (done) break;
          received += value.byteLength;
          if (received > 60000) break;
        }

        if (received < 60000) {
          cell.textContent = "–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ DPI";
          cell.className = "bad";
        } else {
          cell.textContent = "–ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ";
          cell.className = "ok";
        }
      } catch (e) {
        cell.textContent = "–û—à–∏–±–∫–∞";
        cell.className = "bad";
      }
    }

    startButton.onclick = async () => {
      results.innerHTML = `
        <tr>
          <th>#</th><th>–ü—Ä–æ–≤–∞–π–¥–µ—Ä</th><th>–°—Ç–∞—Ç—É—Å DPI</th>
        </tr>`;

      log.textContent = "";
      status.textContent = "–ü—Ä–æ–≤–µ—Ä–∫–∞...";

      for (let t of TABS[CURRENT]) await runTest(t);

      status.textContent = "–ì–æ—Ç–æ–≤–æ ‚ö°";
    };
  </script>
</body>
</html>
